import { makeRequest2, navigateToTelefono } from "../app.js";

export default function renderScreenTimeUpT(data) {
    const app = document.getElementById("app");
    app.innerHTML = `
      <div id="screenTimeUpT">
        <div id="timeUpContainer">
          <svg width="74" height="114" viewBox="0 0 77 114" fill="none" xmlns="http://www.w3.org/2000/svg">
          <mask id="mask0_916_447" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="77" height="114">
          <rect width="77" height="114" fill="#D9D9D9"/>
          </mask>
          <g mask="url(#mask0_916_447)">
          <path d="M38.3652 -3.45507L26.1568 13.9286L45.7617 5.74482L30.0995 20.0944L51.009 16.3179L32.6252 26.9624L53.8616 27.7699L33.616 34.2116L75.5566 35.5396L33.0254 41.5029L51.9677 51.1523L30.8811 48.4954L47.3097 61.9895L27.2834 54.8622L40.4301 71.5699L22.4004 60.3055L31.6505 79.4457L16.4605 64.5708L21.3815 85.2485L9.74148 67.4588L10.1033 88.707L2.55745 68.8343L2.38239e-06 112L-4.75564 68.633L-13.3491 88.0616L-11.8559 66.8644L-24.4266 83.9878L-18.4112 63.6111L-34.3714 77.6286L-24.1151 59.0253L-42.7185 69.2815L-28.7009 53.3214L-49.0776 59.3367L-31.9542 46.766L-53.1514 48.2593L-33.7229 39.6658L-77.0898 34.9102L-33.9241 32.3527L-53.7969 24.8069L-32.5486 25.1687L-50.3383 13.5287L-29.6607 18.4497L-44.5355 3.25966L-25.3953 12.5098L-36.6598 -5.51991L-19.952 7.62681L-27.0793 -12.3995L-13.5852 4.02906L-16.2422 -17.0575L-6.59269 1.88477L-0.179688 -42L0.698615 1.2942L7.14028 -18.9514L7.94776 2.28495L18.5922 -16.0988L14.8158 4.81071L29.1654 -10.8516L20.9816 8.75338L38.3652 -3.45507Z" fill="#C13DFF"/>
          </g>
          </svg>
          <img id="timeUp-img" src="https://firebasestorage.googleapis.com/v0/b/algoritmosdatos2024-02.appspot.com/o/imagesPosts%2FMask%20group.png?alt=media&token=7a48d820-cbff-48eb-9871-a70aece8ecbf" alt="">
        </div>
        <h1 id="on-1">Time's Up!</h1>
        <h1 id="ln-h1">Time's Up!</h1>
        <img src="https://cbnylposiazbgqyzeifz.supabase.co/storage/v1/object/sign/img/Time's%20up!.png?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InN0b3JhZ2UtdXJsLXNpZ25pbmcta2V5XzZmMzU0ZTcyLTRmYWQtNGU1NS04ZDYyLWVmZDYwYThhMzUzMyJ9.eyJ1cmwiOiJpbWcvVGltZSdzIHVwIS5wbmciLCJpYXQiOjE3NDYzOTU1NjgsImV4cCI6MjA5MzI5MTU2OH0.gUK-_BaNhh3oq5mv3TyeMWk8xLd89n26BHXE61BJbto" alt="">
        <svg width="382" height="382" viewBox="0 0 382 382" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M191 0L207.108 42.8933L232.059 4.46547L238.57 49.8186L271.199 17.6531L267.807 63.3454L306.588 38.9462L293.453 82.8412L336.573 67.3492L314.309 107.394L359.751 101.534L329.399 135.857L375.038 139.902L338.017 166.898L381.72 180.659L339.762 199.066L379.484 221.9L334.55 230.856L368.435 261.696L322.626 260.783L349.089 298.187L304.547 287.448L322.351 329.665L281.159 309.602L289.471 354.66L253.555 326.211L251.987 372.002L223.026 336.497L211.651 380.88L191 339.98L170.349 380.88L158.974 336.497L130.013 372.002L128.445 326.211L92.5292 354.66L100.841 309.602L59.6494 329.665L77.4531 287.448L32.9114 298.187L59.3744 260.783L13.5654 261.696L47.4503 230.856L2.51613 221.9L42.2385 199.066L0.280121 180.659L43.9826 166.898L6.96194 139.902L52.6011 135.857L22.2492 101.534L67.6909 107.394L45.427 67.3492L88.5465 82.8412L75.4117 38.9462L114.193 63.3454L110.801 17.6531L143.43 49.8186L149.941 4.46547L174.892 42.8933L191 0Z" fill="#DB148B"/>
            <path d="M191 253.188C156.689 253.188 128.875 225.569 128.875 191.5C128.875 157.431 156.689 129.812 191 129.812C225.311 129.812 253.125 157.431 253.125 191.5C253.125 225.569 225.311 253.188 191 253.188ZM191 262C230.212 262 262 230.436 262 191.5C262 152.564 230.212 121 191 121C151.788 121 120 152.564 120 191.5C120 230.436 151.788 262 191 262Z" fill="white"/>
            <path d="M158.028 230.564C160.149 231.783 162.863 231.063 164.091 228.956C169.468 219.726 179.508 213.531 191 213.531C202.492 213.531 212.532 219.726 217.91 228.956C219.137 231.063 221.852 231.783 223.973 230.564C226.094 229.346 226.819 226.65 225.592 224.544C218.693 212.702 205.788 204.719 191 204.719C176.212 204.719 163.307 212.702 156.408 224.544C155.181 226.65 155.906 229.346 158.028 230.564Z" fill="white"/>
            <path d="M182.125 178.281C182.125 185.582 178.152 191.5 173.25 191.5C168.348 191.5 164.375 185.582 164.375 178.281C164.375 170.981 168.348 165.062 173.25 165.062C178.152 165.062 182.125 170.981 182.125 178.281Z" fill="white"/>
            <path d="M217.625 178.281C217.625 185.582 213.652 191.5 208.75 191.5C203.848 191.5 199.875 185.582 199.875 178.281C199.875 170.981 203.848 165.062 208.75 165.062C213.652 165.062 217.625 170.981 217.625 178.281Z" fill="white"/>
        </svg>
        <p>The game will restart <br> automatically</p>
      </div>
      `;
      setTimeout(async () => {
      try {
        const userId = localStorage.getItem("userId");

        if (userId) {
          await makeRequest2(`/deactivate-user/${userId}`, "POST");
          localStorage.removeItem("userId");
        }
        await makeRequest2("/reset-game", "POST");
        navigateToTelefono("/");
      } catch (error) {
        console.error("Error al resetear el juego:", error);
      }
    }, 4000);

}
  